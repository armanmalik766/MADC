<!DOCTYPE html>
<script>
    window.onbeforeunload = function() {
        if (isSpeaking) {
            speechSynth.cancel();
        }
    };
</script>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Solapur Greenfield Airport | MADC</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            /* MADC Theme Colors */
            --madc-red: #D92128;
            --madc-red-light: #fbecec;
            --madc-grey: #555759;
            --madc-dark: #2c2c2c;
            
            --bg-dark: #12141d;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-dark);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
            padding: 20px;
        }

        /* --- Main Premium Card --- */
        .premium-modal {
            background: var(--card-bg);
            width: 100%;
            max-width: 1200px;
            height: 85vh;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            display: flex;
            overflow: hidden;
            animation: modalPop 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            opacity: 0;
            transform: scale(0.95);
            position: relative;
        }

        /* --- Left Visual Panel --- */
        .left-panel {
            background: #fcfcfc;
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            border-right: 1px solid #eee;
            width: 40%;
        }

        /* Hero Image Area */
        .hero-image-wrapper {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            height: 320px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .hero-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        .hero-image-wrapper:hover .hero-img { transform: scale(1.05); }

        /* Statistics Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
        }

        .stat-card {
            background: white;
            padding: 15px 5px;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 1px solid #f1f1f1;
            transition: 0.3s;
        }
        
        .stat-card:hover { transform: translateY(-5px); border-color: var(--madc-red); }

        .stat-icon-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            color: white;
        }

        .bg-red-grad { background: linear-gradient(135deg, var(--madc-red), #ff6b6b); }
        .bg-grey-grad { background: linear-gradient(135deg, var(--madc-grey), #888); }

        .stat-val { font-weight: 700; font-size: 0.9rem; color: var(--madc-dark); display: block; }
        .stat-label { font-size: 0.65rem; color: var(--madc-grey); text-transform: uppercase; letter-spacing: 0.5px; }

        /* --- Right Content Panel --- */
        .right-panel {
            padding: 40px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 60%;
            overflow-y: auto;
        }

        /* Tags */
        .tag-row { display: flex; gap: 10px; align-items: center; }
        .badge-pill {
            padding: 6px 15px;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        .tag-red { background: var(--madc-red-light); color: var(--madc-red); }
        .tag-blue { background: #e3f2fd; color: #1976d2; }

        /* Typography */
        .main-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--madc-dark);
            margin: 0;
            line-height: 1.2;
        }

        .subtitle {
            font-style: italic;
            color: var(--madc-grey);
            border-left: 3px solid var(--madc-red);
            padding-left: 15px;
            margin: 5px 0 0 0;
            font-size: 0.9rem;
        }

        /* Info Box */
        .highlight-box {
            background: #f9f9f9;
            border-radius: 16px;
            padding: 20px;
            border-left: 5px solid var(--madc-red);
        }

        .info-label {
            font-size: 0.85rem;
            font-weight: 700;
            color: var(--madc-red);
            margin-bottom: 10px;
            display: block;
            text-transform: uppercase;
        }

        /* Feature Grid */
        .features-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .feature-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 10px;
            background: white;
            border: 1px solid #eee;
            border-radius: 10px;
            font-size: 0.8rem;
            color: var(--madc-dark);
            font-weight: 500;
            line-height: 1.4;
        }
        .feature-item i { color: var(--madc-red); font-size: 1rem; margin-top: 2px; }

        /* Buttons */
        .action-row {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn-premium {
            flex: 1;
            padding: 12px;
            border-radius: 12px;
            border: none;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-ai { background: #f0f2f5; color: var(--madc-dark); }
        .btn-ai:hover, .btn-ai.active { background: #e4e6eb; color: var(--madc-red); }
        
        .btn-return {
            background: linear-gradient(90deg, var(--madc-red), #b0151b);
            color: white;
            box-shadow: 0 4px 15px rgba(217, 33, 40, 0.3);
        }
        .btn-return:hover {
            box-shadow: 0 6px 20px rgba(217, 33, 40, 0.5);
            transform: translateY(-2px);
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 35px;
            height: 35px;
            background: #f1f1f1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            color: #666;
            transition: 0.2s;
        }
        .close-btn:hover { background: var(--madc-red); color: white; }

        @keyframes modalPop {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes pulse-ring {
            0% { box-shadow: 0 0 0 0 rgba(217, 33, 40, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(217, 33, 40, 0); }
            100% { box-shadow: 0 0 0 0 rgba(217, 33, 40, 0); }
        }
        .pulse-active { animation: pulse-ring 1.5s infinite; }

        @media (max-width: 992px) {
            .premium-modal { flex-direction: column; height: auto; max-height: 95vh; overflow-y: auto;}
            .left-panel, .right-panel { width: 100%; padding: 20px; height: auto; border-right: none;}
            .hero-image-wrapper { height: 250px; }
        }
    </style>
</head>

<body>

    <div class="premium-modal">
        <div class="close-btn" onclick="goBack()">
            <i class="fas fa-times"></i>
        </div>

        <div class="left-panel">
            
            <div id="solapurCarousel" class="carousel slide hero-slider-wrapper" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#solapurCarousel" data-bs-slide-to="0" class="active"></button>
                    <button type="button" data-bs-target="#solapurCarousel" data-bs-slide-to="1"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="assets/img/solapur_existing_location1.png" alt="Solapur Airport Map">
                    </div>
                    <div class="carousel-item">
                        <img src="assets/img/solapur_existing_location1.png" alt="Solapur View" style="filter: brightness(0.9);">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#solapurCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#solapurCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon-circle bg-red-grad"><i class="fas fa-industry"></i></div>
                    <span class="stat-val">Textile</span>
                    <span class="stat-label">Hub</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon-circle bg-grey-grad"><i class="fas fa-map-marked-alt"></i></div>
                    <span class="stat-val">Area</span>
                    <span class="stat-label">300 Sq KM</span>
                </div>
                <div class="stat-card">
                    <div class="stat-icon-circle bg-red-grad"><i class="fas fa-om"></i></div>
                    <span class="stat-val">Temple</span>
                    <span class="stat-label">City</span>
                </div>
            </div>

            <div class="p-3 bg-white rounded-3 border d-flex align-items-center gap-3 mt-auto">
                <div class="stat-icon-circle bg-red-grad m-0" style="width: 35px; height: 35px; font-size: 1rem;">
                    <i class="fas fa-volume-up"></i>
                </div>
                <div>
                    <small class="d-block text-muted" style="font-size: 0.7rem;">AI GUIDE</small>
                    <span style="font-size: 0.85rem; font-weight: 600;">Indian Accent Enabled</span>
                </div>
            </div>
        </div>

        <div class="right-panel">
            
            <div class="tag-row">
                <span class="badge-pill tag-red">GREENFIELD AIRPORT</span>
                <span class="badge-pill tag-blue"><i class="fas fa-map-marker-alt me-1"></i> SOLAPUR, MAHARASHTRA</span>
            </div>

            <div>
                <h1 class="main-title">Solapur Greenfield Airport</h1>
                <p class="subtitle">"Serving the textile giant and spiritual center of Maharashtra"</p>
            </div>

            <div class="highlight-box">
                <span class="info-label"><i class="fas fa-info-circle me-1"></i> About Solapur & Airport</span>
                <p id="read-intro" style="font-size: 0.85rem; color: #555; line-height: 1.6; margin: 0;">
                    Solapur is a major city in south-western Maharashtra, bordering Karnataka. Known for its world-famous Solapuri chadars and towels, it is a leading center for cotton mills. The city is also a significant spiritual destination, home to Shri Siddheshwar and the famous 'Gadda Yatra'.
                </p>
            </div>

            <div id="read-content" style="display:none;">
                Development of Greenfield Airport at Solapur.
                Solapur lies on the border of Maharashtra and Karnataka. It is the fourth-largest district in Maharashtra by land area.
                The city is famous for Solapuri chadars and towels, having been a leading center for cotton mills and power looms, once housing Asia's largest spinning mill.
                Spiritual significance includes the deity Shri Siddheshwar and the annual Gadda Yatra fair.
                Solapur is an important railway junction on the North-South line, making it a strong industrial base.
                The Greenfield Airport project aims to boost connectivity for this textile and industrial hub.
            </div>

            <div>
                <span class="info-label" style="color:#888; margin-bottom: 8px;">CITY HIGHLIGHTS</span>
                <div class="features-grid">
                    <div class="feature-item">
                        <i class="fas fa-tshirt"></i> <span>Textile & Cotton Hub</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-train"></i> <span>Key Railway Junction</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-city"></i> <span>4th Largest District Area</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-users"></i> <span>Multi-lingual Population</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-gopuram"></i> <span>Shri Siddheshwar Temple</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-calendar-alt"></i> <span>Annual Gadda Yatra</span>
                    </div>
                </div>
            </div>

            <div class="action-row">
                <button id="voiceBtn" class="btn-premium btn-ai" onclick="toggleVoice()">
                    <i class="fas fa-volume-up"></i> <span id="voiceBtnText">Hear AI Guide</span>
                </button>
                <button class="btn-premium btn-return" onclick="goBack()">
                    Return to Map
                </button>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        function goBack() {
            window.location.href = 'pro-madc.html';
        }

        /* --- AI VOICE LOGIC (Autoplay & Click) --- */
        let speechSynth = window.speechSynthesis;
        let isSpeaking = false;
        let voices = [];
        let hasAutoplayed = false; // Flag to prevent looping

        // 1. Function to Load Voices
        function populateVoices() {
            voices = speechSynth.getVoices();
            
            // Try Autoplay if voices are loaded and we haven't played yet
            if (voices.length > 0 && !hasAutoplayed) {
                // Short delay to ensure page elements are ready
                setTimeout(() => {
                    toggleVoice(true); // true = isAutoplay
                }, 500);
            }
        }

        // 2. Initialize Voices
        populateVoices();
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = populateVoices;
        }

        // 3. Toggle Logic
        function toggleVoice(isAutoplay = false) {
            const btn = document.getElementById('voiceBtn');
            const btnText = document.getElementById('voiceBtnText');

            if (isSpeaking && !isAutoplay) {
                // STOP Logic (User Click)
                speechSynth.cancel();
                isSpeaking = false;
                btn.classList.remove('active', 'pulse-active');
                btn.innerHTML = '<i class="fas fa-volume-up"></i> <span id="voiceBtnText">Hear AI Guide</span>';
            } else {
                // PLAY Logic (User Click or Autoplay)
                
                // Safety check: if autoplay triggered but it's already speaking
                if(isAutoplay && isSpeaking) return;

                const content = document.getElementById('read-content').innerText;
                const utterance = new SpeechSynthesisUtterance(content);
                
                // Voice Selection (Indian)
                const indianVoice = voices.find(v => v.lang.includes('en-IN') || v.lang.includes('hi-IN'));
                if (indianVoice) utterance.voice = indianVoice;
                
                utterance.rate = 0.95;
                
                utterance.onend = function() {
                    isSpeaking = false;
                    btn.classList.remove('active', 'pulse-active');
                    btn.innerHTML = '<i class="fas fa-volume-up"></i> <span id="voiceBtnText">Hear AI Guide</span>';
                };

                // Error handling for autoplay blocks
                utterance.onerror = function(e) {
                    console.log("Audio playback error (likely browser blocked autoplay):", e);
                    isSpeaking = false;
                    btn.classList.remove('active', 'pulse-active');
                    btn.innerHTML = '<i class="fas fa-volume-up"></i> <span id="voiceBtnText">Hear AI Guide</span>';
                };

                speechSynth.speak(utterance);
                
                // Update State & UI
                isSpeaking = true;
                hasAutoplayed = true; // Mark as played
                btn.classList.add('active', 'pulse-active');
                btn.innerHTML = '<i class="fas fa-stop"></i> <span id="voiceBtnText">Stop Listening</span>';
            }
        }
    </script>
</body>
</html>